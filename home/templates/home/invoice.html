{% extends 'base.html' %}

{% block content %}
<div class="container mt-5" id="invoice-area">
    <h2 class="text-center mb-4">ğŸ§¾ ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø·Ù„Ø¨ Ø±Ù‚Ù…: {{ order.id }}</h2>

    <p><strong>Ø§Ù„Ø¹Ù…ÙŠÙ„:</strong> {{ order.user.username }}</p>
    <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> {{ order.created_at }}</p>

    <table class="table table-bordered text-center mt-4">
        <thead class="table-light">
            <tr>
                <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                <th>Ø§Ù„Ø³Ø¹Ø±</th>
                <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item.product.name }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.price }} Ø±ÙŠØ§Ù„</td>
                <td>{{ item.price|floatformat:2|add:"0" }} Ã— {{ item.quantity }} = {{ item.price|floatformat:2|add:"0"|floatformat }} Ø±ÙŠØ§Ù„</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h4 class="text-end mt-3">
        Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: <span class="text-success">{{ order.total_price }} Ø±ÙŠØ§Ù„</span>
    </h4>

    <div class="text-center mt-4">
        <button class="btn btn-primary" onclick="printInvoice()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©</button>
        <a href="/" class="btn btn-outline-secondary">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    </div>
</div>

<script>
    function printInvoice() {
        setTimeout(() => {
            window.print();
        }, 300);
    }
</script>
{% endblock %}
